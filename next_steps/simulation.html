

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Simulation &mdash; Formulas and Vehicles  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Further Resources" href="resources.html" />
    <link rel="prev" title="ROS" href="ros.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Formulas and Vehicles
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../linux_terminal.html">Linux Terminal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../first_steps.html">First Steps</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../next_steps.html">Next Steps</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ros.html">ROS</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Simulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#concept">Concept</a></li>
<li class="toctree-l3"><a class="reference internal" href="#minimal-example">(Minimal) Example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#arm-the-vehicle">Arm The Vehicle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-a-launch-setup">Create A Launch Setup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#get-sensor-data">Get Sensor Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="resources.html">Further Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../the_vehicle.html">The Vehicle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assignment2.html">Assignment 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assignment3.html">Assignment 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../final_project.html">Final Project</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Formulas and Vehicles</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../next_steps.html">Next Steps</a> &raquo;</li>
        
      <li>Simulation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/HippoCampusRobotics/fav_docs/blob/master/next_steps/simulation.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="simulation">
<h1>Simulation<a class="headerlink" href="#simulation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="concept">
<h2>Concept<a class="headerlink" href="#concept" title="Permalink to this headline">¶</a></h2>
<p>When we are working with the simulation, we have interactions between several components.</p>
<dl class="simple">
<dt>Gazebo</dt><dd><p>Gazebo is the simulator, that computes the physical behaviour of the objects in the simulation. It also generates sensor data or renders camera images of simulated camera sensors.</p>
</dd>
<dt>PX4</dt><dd><p>PX4-Autopilot is the firmware that runs on the (real or simulated) vehicle. Mainly it is used in the field of aerial vehicles, but can also be used to operate underwater vehicles. In general it provides low-level, realtime capable and high frequent controllers, for example attitude or rate controllers. For Formulas and Vehicles we use PX4 in a passthrough mode. This means, we directly control each  motor from within ROS via the <code class="file docutils literal notranslate"><span class="pre">mavros/setpoint_motor/setpoint</span></code> topic. We do not rely on the firmware’s onboard controllers.</p>
</dd>
<dt>MAVLink</dt><dd><p>MAVLink is a communication protocol for unmanned vehicles. Communication with the PX4-Autopilot firmware has to be done via MAVLink messages.</p>
</dd>
<dt>MAVROS</dt><dd><p>A bridge between ROS messages and MAVLink messages. We develop the programs in ROS. MAVROS provides us with an interface so we do not need to get in touch with MAVLink messages directly. Messages we send to MAVROS get translated and forwarded as MAVLink messages to the PX4-Autopilot. Vice versa for the messages sent by the PX4-Autopilot.</p>
</dd>
<dt>ROS</dt><dd><p>ROS is the framework we use in this course. So probably most of the time (if not all) is spent on developing/implementing algorithms and letting them interact via the communication capabilities ROS provides.</p>
</dd>
</dl>
</div>
<div class="section" id="minimal-example">
<h2>(Minimal) Example<a class="headerlink" href="#minimal-example" title="Permalink to this headline">¶</a></h2>
<p>Let us start where we have left off in the previous <a class="reference internal" href="ros.html#ros"><span class="std std-ref">ROS</span></a>  section:</p>
<p>We have a package called <code class="code docutils literal notranslate"><span class="pre">awesome_package</span></code>. And we have node called <code class="code docutils literal notranslate"><span class="pre">motor_command_sender.py</span></code>. To get a working example, we have to add two things. The first thing is, we need to modify the node slightly, to <em>arm</em> the vehicle. This means, we have to tell the PX4-Autopilot that it is now allowed to actuate the motors. The other thing we have to take care of, is the Gazebo part. So we need to start Gazebo and spawn our model of the BlueROV.</p>
<div class="section" id="arm-the-vehicle">
<h3>Arm The Vehicle<a class="headerlink" href="#arm-the-vehicle" title="Permalink to this headline">¶</a></h3>
<p>The following code is for most parts identical to the one in the previous <a class="reference internal" href="ros.html#ros"><span class="std std-ref">ROS</span></a> section. The <code class="code docutils literal notranslate"><span class="pre">arm_vehicle()</span></code> method now ensures, that the vehicle will get armed.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">rospy</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">mavros_msgs.msg</span> <span class="kn">import</span> <span class="n">MotorSetpoint</span>
<span class="kn">from</span> <span class="nn">mavros_msgs.srv</span> <span class="kn">import</span> <span class="n">CommandBool</span>


<span class="k">class</span> <span class="nc">MyFirstNode</span><span class="p">():</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">rospy</span><span class="o">.</span><span class="n">init_node</span><span class="p">(</span><span class="s2">&quot;motor_command_sender&quot;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">setpoint_pub</span> <span class="o">=</span> <span class="n">rospy</span><span class="o">.</span><span class="n">Publisher</span><span class="p">(</span><span class="s2">&quot;mavros/setpoint_motor/setpoint&quot;</span><span class="p">,</span>
                                          <span class="n">MotorSetpoint</span><span class="p">,</span>
                                          <span class="n">queue_size</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">arm_vehicle</span><span class="p">()</span>

   <span class="k">def</span> <span class="nf">arm_vehicle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="c1"># wait until the arming serivce becomes available</span>
      <span class="n">rospy</span><span class="o">.</span><span class="n">wait_for_service</span><span class="p">(</span><span class="s2">&quot;mavros/cmd/arming&quot;</span><span class="p">)</span>
      <span class="c1"># connect to the service</span>
      <span class="n">arm</span> <span class="o">=</span> <span class="n">rospy</span><span class="o">.</span><span class="n">ServiceProxy</span><span class="p">(</span><span class="s2">&quot;mavros/cmd/arming&quot;</span><span class="p">,</span> <span class="n">CommandBool</span><span class="p">)</span>
      <span class="c1"># call the service to arm the vehicle until service call was successfull</span>
      <span class="k">while</span> <span class="ow">not</span> <span class="n">arm</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
            <span class="n">rospy</span><span class="o">.</span><span class="n">logwarn</span><span class="p">(</span><span class="s2">&quot;Could not arm vehicle. Keep trying.&quot;</span><span class="p">)</span>
            <span class="n">rospy</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
      <span class="n">rospy</span><span class="o">.</span><span class="n">loginfo</span><span class="p">(</span><span class="s2">&quot;Armed successfully.&quot;</span><span class="p">)</span>

   <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">rate</span> <span class="o">=</span> <span class="n">rospy</span><span class="o">.</span><span class="n">Rate</span><span class="p">(</span><span class="mf">30.0</span><span class="p">)</span>

      <span class="k">while</span> <span class="ow">not</span> <span class="n">rospy</span><span class="o">.</span><span class="n">is_shutdown</span><span class="p">():</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">MotorSetpoint</span><span class="p">()</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">header</span><span class="o">.</span><span class="n">stamp</span> <span class="o">=</span> <span class="n">rospy</span><span class="o">.</span><span class="n">Time</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
            <span class="c1"># since the bluerov has 8 motors, the setpoint list holds 8 values</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">rospy</span><span class="o">.</span><span class="n">get_time</span><span class="p">()</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setpoint</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setpoint</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setpoint</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setpoint</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setpoint</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setpoint</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setpoint</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setpoint</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">setpoint_pub</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

            <span class="n">rate</span><span class="o">.</span><span class="n">sleep</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
   <span class="n">node</span> <span class="o">=</span> <span class="n">MyFirstNode</span><span class="p">()</span>
   <span class="n">node</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
   <span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="create-a-launch-setup">
<h3>Create A Launch Setup<a class="headerlink" href="#create-a-launch-setup" title="Permalink to this headline">¶</a></h3>
<p>Create a new launchfile. You could name it <code class="file docutils literal notranslate"><span class="pre">first_simulation.launch</span></code> for example:</p>
<img alt="../_images/create_launchfile.gif" src="../_images/create_launchfile.gif" />
<p>The launchfile has to start the <code class="file docutils literal notranslate"><span class="pre">motor_command_sender</span></code> node, the Gazebo simulation and spawns the BlueROV.</p>
<p>It could look like this:</p>
<div class="highlight-xml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">&lt;launch&gt;</span>
   <span class="c">&lt;!-- launch the motor_command_sender node--&gt;</span>
   <span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">&quot;motor_command_sender&quot;</span> <span class="na">pkg=</span><span class="s">&quot;awesome_package&quot;</span> <span class="na">type=</span><span class="s">&quot;motor_command_sender.py&quot;</span><span class="nt">/&gt;</span>

   <span class="c">&lt;!-- start the gazebo simulator and an empty world --&gt;</span>
   <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">&quot;$(find bluerov_sim)/launch/gazebo_base.launch&quot;</span> <span class="nt">/&gt;</span>

   <span class="c">&lt;!-- Spawn the vehicle. You can use the args to set the spawn pose--&gt;</span>
   <span class="nt">&lt;include</span> <span class="na">file=</span><span class="s">&quot;$(find bluerov_sim)/launch/spawn_vehicle.launch&quot;</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- Set the position--&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;x&quot;</span> <span class="na">value=</span><span class="s">&quot;0.0&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;y&quot;</span> <span class="na">value=</span><span class="s">&quot;0.0&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;z&quot;</span> <span class="na">value=</span><span class="s">&quot;-0.2&quot;</span><span class="nt">/&gt;</span>
      <span class="c">&lt;!-- Set roll, pitch, yaw--&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;R&quot;</span> <span class="na">value=</span><span class="s">&quot;0.0&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;P&quot;</span> <span class="na">value=</span><span class="s">&quot;0.0&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;arg</span> <span class="na">name=</span><span class="s">&quot;Y&quot;</span> <span class="na">value=</span><span class="s">&quot;0.0&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/include&gt;</span>
<span class="nt">&lt;/launch&gt;</span>
</pre></div>
</td></tr></table></div>
<p>To start a the setup run:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>roslaunch awesome_package first_simulation.launch
</pre></div>
</div>
<p>The result should look similar to:</p>
<img alt="../_images/gazebo_awesome_package.gif" src="../_images/gazebo_awesome_package.gif" />
</div>
</div>
<div class="section" id="get-sensor-data">
<h2>Get Sensor Data<a class="headerlink" href="#get-sensor-data" title="Permalink to this headline">¶</a></h2>
<p>At this point we know the basics of actuating the vehicle. But to know how we want to actuate the vehicle, we might depend on some sensor input.</p>
<p>The BlueROV has a pressure sensor. The output of the pressure sensor is published under the <code class="file docutils literal notranslate"><span class="pre">pressure</span></code> topic.</p>
<p>Theoretically we could use the <code class="file docutils literal notranslate"><span class="pre">motor_command_sender.py</span></code> and modify it’s code to subscribe to the <code class="file docutils literal notranslate"><span class="pre">pressure</span></code> topic. But to keep things modular and separated, we add a new node to the <code class="file docutils literal notranslate"><span class="pre">awesome_package</span></code>. Let’s name it <code class="file docutils literal notranslate"><span class="pre">depth_calculator.py</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keep in mind, you have to make every node executable! See <a class="reference internal" href="ros.html#write-a-node"><span class="std std-ref">Write A Node</span></a>.</p>
</div>
<p>The source code might look like this:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">rospy</span>
<span class="kn">from</span> <span class="nn">sensor_msgs.msg</span> <span class="kn">import</span> <span class="n">FluidPressure</span>
<span class="kn">from</span> <span class="nn">std_msgs.msg</span> <span class="kn">import</span> <span class="n">Float32</span>


<span class="k">def</span> <span class="nf">pressure_callback</span><span class="p">(</span><span class="n">pressure_msg</span><span class="p">,</span> <span class="n">publisher</span><span class="p">):</span>
   <span class="n">pascal_per_meter</span> <span class="o">=</span> <span class="mf">1.0e4</span>
   <span class="n">depth</span> <span class="o">=</span> <span class="o">-</span><span class="n">pressure_msg</span><span class="o">.</span><span class="n">fluid_pressure</span> <span class="o">/</span> <span class="n">pascal_per_meter</span>
   <span class="n">depth_msg</span> <span class="o">=</span> <span class="n">Float32</span><span class="p">()</span>
   <span class="n">depth_msg</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">depth</span>
   <span class="n">publisher</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="n">depth_msg</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
   <span class="n">rospy</span><span class="o">.</span><span class="n">init_node</span><span class="p">(</span><span class="s2">&quot;depth_calculator&quot;</span><span class="p">)</span>
   <span class="n">depth_pub</span> <span class="o">=</span> <span class="n">rospy</span><span class="o">.</span><span class="n">Publisher</span><span class="p">(</span><span class="s2">&quot;depth&quot;</span><span class="p">,</span> <span class="n">Float32</span><span class="p">,</span> <span class="n">queue_size</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">pressure_sub</span> <span class="o">=</span> <span class="n">rospy</span><span class="o">.</span><span class="n">Subscriber</span><span class="p">(</span><span class="s2">&quot;pressure&quot;</span><span class="p">,</span> <span class="n">FluidPressure</span><span class="p">,</span>
                                    <span class="n">pressure_callback</span><span class="p">,</span> <span class="n">depth_pub</span><span class="p">)</span>
   <span class="n">rospy</span><span class="o">.</span><span class="n">spin</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
   <span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>We can add this node to our launchfile by adding the following snippet:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;node</span> <span class="na">name=</span><span class="s">&quot;depth_calculator&quot;</span> <span class="na">pkg=</span><span class="s">&quot;awesome_package&quot;</span> <span class="na">type=</span><span class="s">&quot;depth_calculator.py&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>And launch the setup:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>roslaunch awesome_package first_simulation.launch
</pre></div>
</div>
<p>We can check that the nodes are properly connected in the <code class="code docutils literal notranslate"><span class="pre">rqt</span></code> node graph:</p>
<img alt="../_images/rqt_graph.png" src="../_images/rqt_graph.png" />
<p>And to inspect the data, we can plot it in <code class="code docutils literal notranslate"><span class="pre">rqt_multiplot</span></code></p>
<img alt="../_images/depth_multiplot.png" src="../_images/depth_multiplot.png" />
<p>or use the <code class="code docutils literal notranslate"><span class="pre">rqt</span></code> topic monitor or simply in the command line:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>rostopic <span class="nb">echo</span> /depth
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="resources.html" class="btn btn-neutral float-right" title="Further Resources" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ros.html" class="btn btn-neutral float-left" title="ROS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Thies Lennart Alff, Nathalie Bauschmann, Daniel Dücker

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>